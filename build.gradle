plugins {
  	id 'java-library'
  	id 'application'
  	id 'eclipse'
  	id 'org.openjfx.javafxplugin' version '0.0.8'
  	id 'org.beryx.jlink' version '2.12.0'
  	id "org.sonarqube" version "2.8"
}

repositories {
    mavenCentral()
    mavenLocal()
}

javafx {
    version = "11.0.2"
    modules = [ 'javafx.controls', 'javafx.fxml' ]
}

mainClassName = "org.bejdenn.dexteditor.client.ExecutiveClass"

eclipse {
    classpath {
        file {
            whenMerged {
                entries.findAll { it.properties.kind.equals('lib') }.each {
                    it.entryAttributes['module'] = 'true'
                }
            }
        }
        
       downloadSources=true
    }
}

jlink {
    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']
    launcher {
        name = 'hellofx'
    }
}

sonarqube {
  properties {
    property "sonar.projectKey", "Bejdenn_dexteditor"
    property "sonar.organization", "bejdenn"
    property "sonar.host.url", "https://sonarcloud.io"
    property "sonar.login", "9d5b236cf88cbf074eb021bab0f3057413c9d81e"
  }
}

dependencies {
	compile ("de.saxsys:mvvmfx:1.8.0")
	compile ("com.google.guava:guava:26.0-jre")
	compile ("org.apache.logging.log4j:log4j-api:2.13.0")
  	compile ("org.apache.logging.log4j:log4j-core:2.13.0")
  	compile ("org.apache.commons:commons-lang3:3.9")
  	compile ("org.bejdenn:core-commons:1.0.0")
  	compile ("org.bejdenn:core-frontend:1.0.0")
  	compile ("org.bejdenn:core-backend:1.0.0")
	
	testCompile ("junit:junit:4.12")
	testCompile ("org.mockito:mockito-core:2.+")
}
